function Initialize()
	Oldtime4 = SKIN:GetMeasure("MeasureTime"):GetValue()
	Arr =  {{{{90,45,90,90,90,90,90,90,90,90},{180,45,180,180,180,180,180,180,180,180}},{{90,90,90,90,180,90,90,90,90,90},{270,180,270,270,270,270,270,270,270,270}},{{90,90,90,90,90,90,90,90,90,90},      {270,270,270,270,180,270,270,270,270,270}},{{180, 180, 180, 180, 180, 180, 180, 180, 180, 180},{270,270,270,270,270,270,270,270,270,270}}},
			{{{0,45,0,0,0,0,0,0,0,0},         {180,45,90,90,180,180,180,90,180,180}},   {{90,0,90,90,0,90,90,90,90,90},   {180,90,270,270,180,180,180,270,180,180}}, {{180,180,180,180,0,90,90,180,180,180},{270,270,270,270,180,270,270,270,270,270}},{{0,0,0,0,0,0,0,0,0,0},                             {180,180,180,180,180,270,270,180,180,180}}},
			{{{0,45,90,90,0,0,0,45,0,0},      {180,45,180,180,180,180,180,45,135,180}}, {{0,45,90,90,0,0,0,45,0,0},       {180,45,270,270,90,90,90,45,90,90}},       {{0,0,0,0,0,90,90,0,0,0},              {180,180,270,270,270,270,270,180,270,270}},{{0,0,0,0,0,180,180,0,0,0},                         {180,180,180,180,180,270,270,180,225,180}}},
			{{{0,45,0,0,0,0,0,45,45,0},       {180,45,180,90,90,90,180,45,180,90}},     {{0,45,90,90,90,90,90,45,90,90},  {180,45,180,270,270,270,180,45,180,270}},  {{0,0,90,180,180,180,180,0,180,180},   {180,180,270,270,270,270,270,180,270,270}},{{0,0,0,0,0,0,0,0,180,0},                           {180,180,270,180,180,180,180,180,315,180}}},
			{{{0,45,0,90,45,90,0,45,0,90},    {180,45,180,180,45,180,180,45,180,180}},  {{0,45,0,90,45,90,0,45,0,90},     {90,45,90,270,45,270,90,45,90,270}},       {{0,0,90,0,0,0,0,0,0,0},               {270,180,270,270,180,270,270,180,270,270}},{{0,0,180,0,0,0,0,0,0,0},                           {180,180,270,180,180,180,180,180,180,180}}},
			{{{0,45,0,0,45,0,0,45,0,0},       {90,45,90,90,45,90,90,45,90,90}},         {{90,45,90,90,45,90,90,45,90,90}, {270,45,270,270,45,270,270,45,270,270}},   {{90,0,90,90,0,90,90,0,90,90},         {270,90,270,270,90,270,270,90,270,270}},   {{0,0,0,0,0,0,0,0,0,0},                             {270,270,270,270,270,270,270,270,270,270}}}}
	Oldarr = {}
	T = 0
	for i=1,4 do
		Oldarr[i] = {}
		for j=1,6 do
			Oldarr[i][j] = {}
			for k=1,4 do
				Oldarr[i][j][k] = {}
				for l=1,2 do
					Oldarr[i][j][k][l] = nil
				end
			end
		end
	end
	-- Oldarr[4][0][3][0] = SKIN:GetMeasure('Measure4030'):GetNumberOption('Formula')
	-- If the "Old" value starts as nil, the change action will always fire on the first update.
end

function Update()

	Time4 = math.floor((SKIN:GetMeasure("MeasureTime"):GetValue())/60)%10
	if(Oldtime4 ~= Time4) then
		Oldtime4 = Time4
		for i=1,6 do
			for j=1,4 do
				for k=1,2 do
					Oldarr[4][i][j][k] = SKIN:GetMeasure('Measure4'..i..j..k):GetNumberOption('Formula')
				end
			end
		end
		Rotating4 = true
	end
    if(Rotating4) then
		T = T + 0.005
		for i=1,6 do
			for j=1,4 do
				for k=1,2 do
					SKIN:Bang('!SetOption', 'Measure4'..i..j..k, 'Formula', Lerp(Oldarr[4][i][j][k], Arr[i][j][k][Oldtime4+1]))
				end
			end
		end
		if(T >= 1) then
			Rotating4 = false
			T = 0
		end
	end
end

function Lerp(old, new)
	return (T*(new+360) + (1-T)*old)%360
end
